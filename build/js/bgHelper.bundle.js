webpackJsonp([0],{0:function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function i(e,r){for(var t=[],n=0;n<r.children.length;n++){var o=r.children[n];if("_"!==o.title[0]){var i=o.children;i?t.push(I.makeFolderTabWindow(o)):console.log("Found bookmarks folder with no children, skipping: ",i)}}return e.registerTabWindows(t)}function a(e,r,t){if(e.children)for(var n=0;n<e.children.length;n++){var o=e.children[n];if(o.title.toLowerCase()===r.toLowerCase())return t(o),!0}console.log("Child folder ",r," Not found, creating...");var i={parentId:e.id,title:r};chrome.bookmarks.create(i,t)}function s(e,r){var t=chrome.runtime.getManifest(),n=!y.valid(r)||y.gt(t.version,r);return e.set("showRelNotes",n)}function u(e){var r=null,t=null;chrome.bookmarks.getTree(function(n){var o=n[0].children[1];a(o,A,function(n){r=n.id,a(n,B,function(o){t=o.id,chrome.bookmarks.getSubTree(n.id,function(n){var o=new W["default"]({folderId:r,archiveFolderId:t}),a=i(o,n[0]);chrome.storage.local.get({readRelNotesVersion:""},function(r){var t=s(a,r.readRelNotesVersion);e(t)})})})})})}function c(e){chrome.runtime.onConnect.addListener(function(r){r.onMessage.addListener(function(t){var n=t.listenerId;r.onDisconnect.addListener(function(){e.removeViewListener(n)})})})}function d(e,r,t){e(function(e){var n=e.getTabWindowByChromeId(r.windowId);if(!n)return console.warn("tabs.onCreated: window id not found: ",r.windowId),e;var o=e.handleTabCreated(n,r),i=o.getTabWindowByChromeId(r.windowId),a=t?o.handleTabActivated(i,r.id):o;return a})}function l(e,r,t){e(function(e){var n=e.getTabWindowByChromeId(r);return n?e.handleTabClosed(n,t):(console.warn("tabs.onTabRemoved: window id not found: ",r),e)})}function f(e){chrome.windows.onRemoved.addListener(function(r){e(function(e){var t=e.getTabWindowByChromeId(r);t&&"popup"===t.windowType&&(e.initializing||chrome.storage.local.set({showPopout:!1},function(){}));var n=t?e.handleTabWindowClosed(t):e;return n})}),chrome.windows.onCreated.addListener(function(r){e(function(e){return e.syncChromeWindow(r)})}),chrome.windows.onFocusChanged.addListener(function(r){r!==chrome.windows.WINDOW_ID_NONE&&e(function(e){return e.setCurrentWindowId(r)})},{windowTypes:["normal"]}),chrome.tabs.onCreated.addListener(function(r){return d(e,r)}),chrome.tabs.onUpdated.addListener(function(r,t,n){e(function(e){var o=e.getTabWindowByChromeId(n.windowId);return o?e.handleTabUpdated(o,r,t):(console.warn("tabs.onUpdated: window id not found: ",n.windowId),e)})}),chrome.tabs.onActivated.addListener(function(r){e(function(e){var t=e.getTabWindowByChromeId(r.windowId);if(!t)return console.warn("tabs.onActivated: window id not found: ",r.windowId,r),e;var n=t?e.handleTabActivated(t,r.tabId):e;return n})}),chrome.tabs.onRemoved.addListener(function(r,t){t.isWindowClosing||l(e,t.windowId,r)}),chrome.tabs.onReplaced.addListener(function(r,t){console.log("tabs.onReplaced: added: ",r,", removed: ",t),e(function(n){var o=n.getTabWindowByChromeTabId(t);if(!o)return console.warn("tabs.onReplaced: could not find window for removed tab: ",t),n;var i=n.handleTabClosed(o,t);return chrome.tabs.get(r,function(r){return d(e,r)}),i})}),chrome.tabs.onMoved.addListener(function(r,t){E.syncChromeWindowById(t.windowId,e)}),chrome.tabs.onDetached.addListener(function(r,t){l(e,t.oldWindowId,r)}),chrome.tabs.onAttached.addListener(function(r,t){chrome.tabs.get(r,function(r){return d(e,r,!0)})})}function h(e,r){var t=.4,n=e.getUrlBookmarkIdMap(),o=b.Record({windowId:-1,matches:b.Map(),bestMatch:null,tabCount:0});chrome.windows.getAll({populate:!0},function(i){function a(r){function i(r,n){var o=e.bookmarkIdMap.get(n),i=o.tabItems.count(),a=r/i;return a>=t}var a=r.tabs.map(function(e){return n.get(e.url,null)}).filter(function(e){return e}),s=a.map(function(e){return e.countBy(function(e){return e})}),u=function(e,r){return e.mergeWith(function(e,r){return e+r},r)},c=s.reduce(u,b.Map()),d=c.filter(i),l=M.bestMatch(d);return new o({windowId:r.id,matches:c,bestMatch:l,tabCount:r.tabs.length})}var s=b.Seq(i).map(a).filter(function(e){return e.bestMatch}),u=s.groupBy(function(e){return e.bestMatch}),c=u.map(function(e){var r=e.map(function(e){var r=e.matches.get(e.bestMatch);return[e.windowId,r]});return b.Map(r)}),d=c.map(function(e){return M.bestMatch(e)}).filter(function(e){return e}),l=w.fromPairs(i.map(function(e){return[e.id,e]})),f=function(e,r,t){var n=l[r],o=e.bookmarkIdMap.get(t),i=e.attachChromeWindow(o,n);return i},h=d.reduce(f,e);r(h)})}function p(){u(function(e){h(e,function(e){chrome.windows.getCurrent(null,function(r){E.syncChromeWindows(function(t){console.log("initial sync of chrome windows complete.");var n=t(e).setCurrentWindow(r);console.log("current window after initial sync: ",n.currentWindowId,n.getCurrentWindow()),window.storeRef=new L["default"](n),c(window.storeRef);var o=(0,S.refUpdater)(window.storeRef);f(o),R.restorePopout(window.storeRef).done(function(e){window.storeRef.setValue(e.markInitialized())}),chrome.commands.onCommand.addListener(function(e){"show_popout"===e&&E.showPopout(window.storeRef.getValue(),o)})})})})})}var v=t(1),w=o(v),m=t(3),b=o(m),g=t(4),y=o(g),k=t(6),I=o(k),T=t(7),W=n(T),C=t(8),M=o(C),j=t(9),E=o(j),O=t(10),R=o(O),_=t(14),L=n(_),S=t(15),A="Tabli Saved Windows",B="_Archive";p()},4:function(e,r,t){(function(t){function n(e,r){if(e instanceof a)return e;if("string"!=typeof e)return null;if(e.length>G)return null;var t=r?J[fe]:J[ce];if(!t.test(e))return null;try{return new a(e,r)}catch(n){return null}}function o(e,r){var t=n(e,r);return t?t.version:null}function i(e,r){var t=n(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null}function a(e,r){if(e instanceof a){if(e.loose===r)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>G)throw new TypeError("version is longer than "+G+" characters");if(!(this instanceof a))return new a(e,r);X("SemVer",e,r),this.loose=r;var t=e.trim().match(r?J[fe]:J[ce]);if(!t)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>Z||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Z||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Z||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var r=+e;if(r>=0&&Z>r)return r}return e}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}function s(e,r,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new a(e,t).inc(r,n).version}catch(o){return null}}function u(e,r){if(k(e,r))return null;var t=n(e),o=n(r);if(t.prerelease.length||o.prerelease.length){for(var i in t)if(("major"===i||"minor"===i||"patch"===i)&&t[i]!==o[i])return"pre"+i;return"prerelease"}for(var i in t)if(("major"===i||"minor"===i||"patch"===i)&&t[i]!==o[i])return i}function c(e,r){var t=Ne.test(e),n=Ne.test(r);return t&&n&&(e=+e,r=+r),t&&!n?-1:n&&!t?1:r>e?-1:e>r?1:0}function d(e,r){return c(r,e)}function l(e,r){return new a(e,r).major}function f(e,r){return new a(e,r).minor}function h(e,r){return new a(e,r).patch}function p(e,r,t){return new a(e,t).compare(r)}function v(e,r){return p(e,r,!0)}function w(e,r,t){return p(r,e,t)}function m(e,t){return e.sort(function(e,n){return r.compare(e,n,t)})}function b(e,t){return e.sort(function(e,n){return r.rcompare(e,n,t)})}function g(e,r,t){return p(e,r,t)>0}function y(e,r,t){return p(e,r,t)<0}function k(e,r,t){return 0===p(e,r,t)}function I(e,r,t){return 0!==p(e,r,t)}function T(e,r,t){return p(e,r,t)>=0}function W(e,r,t){return p(e,r,t)<=0}function C(e,r,t,n){var o;switch(r){case"===":"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),o=e===t;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),o=e!==t;break;case"":case"=":case"==":o=k(e,t,n);break;case"!=":o=I(e,t,n);break;case">":o=g(e,t,n);break;case">=":o=T(e,t,n);break;case"<":o=y(e,t,n);break;case"<=":o=W(e,t,n);break;default:throw new TypeError("Invalid operator: "+r)}return o}function M(e,r){if(e instanceof M){if(e.loose===r)return e;e=e.value}return this instanceof M?(X("comparator",e,r),this.loose=r,this.parse(e),this.semver===xe?this.value="":this.value=this.operator+this.semver.version,void X("comp",this)):new M(e,r)}function j(e,r){if(e instanceof j&&e.loose===r)return e;if(!(this instanceof j))return new j(e,r);if(this.loose=r,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function E(e,r){return new j(e,r).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function O(e,r){return X("comp",e),e=S(e,r),X("caret",e),e=_(e,r),X("tildes",e),e=B(e,r),X("xrange",e),e=$(e,r),X("stars",e),e}function R(e){return!e||"x"===e.toLowerCase()||"*"===e}function _(e,r){return e.trim().split(/\s+/).map(function(e){return L(e,r)}).join(" ")}function L(e,r){var t=r?J[We]:J[Te];return e.replace(t,function(r,t,n,o,i){X("tilde",e,r,t,n,o,i);var a;return R(t)?a="":R(n)?a=">="+t+".0.0 <"+(+t+1)+".0.0":R(o)?a=">="+t+"."+n+".0 <"+t+"."+(+n+1)+".0":i?(X("replaceTilde pr",i),"-"!==i.charAt(0)&&(i="-"+i),a=">="+t+"."+n+"."+o+i+" <"+t+"."+(+n+1)+".0"):a=">="+t+"."+n+"."+o+" <"+t+"."+(+n+1)+".0",X("tilde return",a),a})}function S(e,r){return e.trim().split(/\s+/).map(function(e){return A(e,r)}).join(" ")}function A(e,r){X("caret",e,r);var t=r?J[Oe]:J[Ee];return e.replace(t,function(r,t,n,o,i){X("caret",e,r,t,n,o,i);var a;return R(t)?a="":R(n)?a=">="+t+".0.0 <"+(+t+1)+".0.0":R(o)?a="0"===t?">="+t+"."+n+".0 <"+t+"."+(+n+1)+".0":">="+t+"."+n+".0 <"+(+t+1)+".0.0":i?(X("replaceCaret pr",i),"-"!==i.charAt(0)&&(i="-"+i),a="0"===t?"0"===n?">="+t+"."+n+"."+o+i+" <"+t+"."+n+"."+(+o+1):">="+t+"."+n+"."+o+i+" <"+t+"."+(+n+1)+".0":">="+t+"."+n+"."+o+i+" <"+(+t+1)+".0.0"):(X("no pr"),a="0"===t?"0"===n?">="+t+"."+n+"."+o+" <"+t+"."+n+"."+(+o+1):">="+t+"."+n+"."+o+" <"+t+"."+(+n+1)+".0":">="+t+"."+n+"."+o+" <"+(+t+1)+".0.0"),X("caret return",a),a})}function B(e,r){return X("replaceXRanges",e,r),e.split(/\s+/).map(function(e){return P(e,r)}).join(" ")}function P(e,r){e=e.trim();var t=r?J[ge]:J[be];return e.replace(t,function(r,t,n,o,i,a){X("xRange",e,r,t,n,o,i,a);var s=R(n),u=s||R(o),c=u||R(i),d=c;return"="===t&&d&&(t=""),s?r=">"===t||"<"===t?"<0.0.0":"*":t&&d?(u&&(o=0),c&&(i=0),">"===t?(t=">=",u?(n=+n+1,o=0,i=0):c&&(o=+o+1,i=0)):"<="===t&&(t="<",u?n=+n+1:o=+o+1),r=t+n+"."+o+"."+i):u?r=">="+n+".0.0 <"+(+n+1)+".0.0":c&&(r=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0"),X("xRange return",r),r})}function $(e,r){return X("replaceStars",e,r),e.trim().replace(J[Pe],"")}function N(e,r,t,n,o,i,a,s,u,c,d,l,f){return r=R(t)?"":R(n)?">="+t+".0.0":R(o)?">="+t+"."+n+".0":">="+r,s=R(u)?"":R(c)?"<"+(+u+1)+".0.0":R(d)?"<"+u+"."+(+c+1)+".0":l?"<="+u+"."+c+"."+d+"-"+l:"<="+s,(r+" "+s).trim()}function x(e,r){for(var t=0;t<e.length;t++)if(!e[t].test(r))return!1;if(r.prerelease.length){for(var t=0;t<e.length;t++)if(X(e[t].semver),e[t].semver!==xe&&e[t].semver.prerelease.length>0){var n=e[t].semver;if(n.major===r.major&&n.minor===r.minor&&n.patch===r.patch)return!0}return!1}return!0}function V(e,r,t){try{r=new j(r,t)}catch(n){return!1}return r.test(e)}function D(e,r,t){return e.filter(function(e){return V(e,r,t)}).sort(function(e,r){return w(e,r,t)})[0]||null}function F(e,r){try{return new j(e,r).range||"*"}catch(t){return null}}function U(e,r,t){return q(e,r,"<",t)}function z(e,r,t){return q(e,r,">",t)}function q(e,r,t,n){e=new a(e,n),r=new j(r,n);var o,i,s,u,c;switch(t){case">":o=g,i=W,s=y,u=">",c=">=";break;case"<":o=y,i=T,s=g,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(V(e,r,n))return!1;for(var d=0;d<r.set.length;++d){var l=r.set[d],f=null,h=null;if(l.forEach(function(e){e.semver===xe&&(e=new M(">=0.0.0")),f=f||e,h=h||e,o(e.semver,f.semver,n)?f=e:s(e.semver,h.semver,n)&&(h=e)}),f.operator===u||f.operator===c)return!1;if((!h.operator||h.operator===u)&&i(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}r=e.exports=a;var X;X="object"==typeof t&&{NODE_ENV:"production"}.NODE_DEBUG&&/\bsemver\b/i.test({NODE_ENV:"production"}.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},r.SEMVER_SPEC_VERSION="2.0.0";var G=256,Z=Number.MAX_SAFE_INTEGER||9007199254740991,J=r.re=[],H=r.src=[],K=0,Q=K++;H[Q]="0|[1-9]\\d*";var Y=K++;H[Y]="[0-9]+";var ee=K++;H[ee]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var re=K++;H[re]="("+H[Q]+")\\.("+H[Q]+")\\.("+H[Q]+")";var te=K++;H[te]="("+H[Y]+")\\.("+H[Y]+")\\.("+H[Y]+")";var ne=K++;H[ne]="(?:"+H[Q]+"|"+H[ee]+")";var oe=K++;H[oe]="(?:"+H[Y]+"|"+H[ee]+")";var ie=K++;H[ie]="(?:-("+H[ne]+"(?:\\."+H[ne]+")*))";var ae=K++;H[ae]="(?:-?("+H[oe]+"(?:\\."+H[oe]+")*))";var se=K++;H[se]="[0-9A-Za-z-]+";var ue=K++;H[ue]="(?:\\+("+H[se]+"(?:\\."+H[se]+")*))";var ce=K++,de="v?"+H[re]+H[ie]+"?"+H[ue]+"?";H[ce]="^"+de+"$";var le="[v=\\s]*"+H[te]+H[ae]+"?"+H[ue]+"?",fe=K++;H[fe]="^"+le+"$";var he=K++;H[he]="((?:<|>)?=?)";var pe=K++;H[pe]=H[Y]+"|x|X|\\*";var ve=K++;H[ve]=H[Q]+"|x|X|\\*";var we=K++;H[we]="[v=\\s]*("+H[ve]+")(?:\\.("+H[ve]+")(?:\\.("+H[ve]+")(?:"+H[ie]+")?"+H[ue]+"?)?)?";var me=K++;H[me]="[v=\\s]*("+H[pe]+")(?:\\.("+H[pe]+")(?:\\.("+H[pe]+")(?:"+H[ae]+")?"+H[ue]+"?)?)?";var be=K++;H[be]="^"+H[he]+"\\s*"+H[we]+"$";var ge=K++;H[ge]="^"+H[he]+"\\s*"+H[me]+"$";var ye=K++;H[ye]="(?:~>?)";var ke=K++;H[ke]="(\\s*)"+H[ye]+"\\s+",J[ke]=new RegExp(H[ke],"g");var Ie="$1~",Te=K++;H[Te]="^"+H[ye]+H[we]+"$";var We=K++;H[We]="^"+H[ye]+H[me]+"$";var Ce=K++;H[Ce]="(?:\\^)";var Me=K++;H[Me]="(\\s*)"+H[Ce]+"\\s+",J[Me]=new RegExp(H[Me],"g");var je="$1^",Ee=K++;H[Ee]="^"+H[Ce]+H[we]+"$";var Oe=K++;H[Oe]="^"+H[Ce]+H[me]+"$";var Re=K++;H[Re]="^"+H[he]+"\\s*("+le+")$|^$";var _e=K++;H[_e]="^"+H[he]+"\\s*("+de+")$|^$";var Le=K++;H[Le]="(\\s*)"+H[he]+"\\s*("+le+"|"+H[we]+")",J[Le]=new RegExp(H[Le],"g");var Se="$1$2$3",Ae=K++;H[Ae]="^\\s*("+H[we]+")\\s+-\\s+("+H[we]+")\\s*$";var Be=K++;H[Be]="^\\s*("+H[me]+")\\s+-\\s+("+H[me]+")\\s*$";var Pe=K++;H[Pe]="(<|>)?=?\\s*\\*";for(var $e=0;K>$e;$e++)X($e,H[$e]),J[$e]||(J[$e]=new RegExp(H[$e]));r.parse=n,r.valid=o,r.clean=i,r.SemVer=a,a.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},a.prototype.toString=function(){return this.version},a.prototype.compare=function(e){return X("SemVer.compare",this.version,this.loose,e),e instanceof a||(e=new a(e,this.loose)),this.compareMain(e)||this.comparePre(e)},a.prototype.compareMain=function(e){return e instanceof a||(e=new a(e,this.loose)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)},a.prototype.comparePre=function(e){if(e instanceof a||(e=new a(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var r=0;do{var t=this.prerelease[r],n=e.prerelease[r];if(X("prerelease compare",r,t,n),void 0===t&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===t)return-1;if(t!==n)return c(t,n)}while(++r)},a.prototype.inc=function(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r),this.inc("pre",r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},r.inc=s,r.diff=u,r.compareIdentifiers=c;var Ne=/^[0-9]+$/;r.rcompareIdentifiers=d,r.major=l,r.minor=f,r.patch=h,r.compare=p,r.compareLoose=v,r.rcompare=w,r.sort=m,r.rsort=b,r.gt=g,r.lt=y,r.eq=k,r.neq=I,r.gte=T,r.lte=W,r.cmp=C,r.Comparator=M;var xe={};M.prototype.parse=function(e){var r=this.loose?J[Re]:J[_e],t=e.match(r);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=t[1],"="===this.operator&&(this.operator=""),t[2]?this.semver=new a(t[2],this.loose):this.semver=xe},M.prototype.toString=function(){return this.value},M.prototype.test=function(e){return X("Comparator.test",e,this.loose),this.semver===xe?!0:("string"==typeof e&&(e=new a(e,this.loose)),C(e,this.operator,this.semver,this.loose))},r.Range=j,j.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},j.prototype.toString=function(){return this.range},j.prototype.parseRange=function(e){var r=this.loose;e=e.trim(),X("range",e,r);var t=r?J[Be]:J[Ae];e=e.replace(t,N),X("hyphen replace",e),e=e.replace(J[Le],Se),X("comparator trim",e,J[Le]),e=e.replace(J[ke],Ie),e=e.replace(J[Me],je),e=e.split(/\s+/).join(" ");var n=r?J[Re]:J[_e],o=e.split(" ").map(function(e){return O(e,r)}).join(" ").split(/\s+/);return this.loose&&(o=o.filter(function(e){return!!e.match(n)})),o=o.map(function(e){return new M(e,r)})},r.toComparators=E,j.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new a(e,this.loose));for(var r=0;r<this.set.length;r++)if(x(this.set[r],e))return!0;return!1},r.satisfies=V,r.maxSatisfying=D,r.validRange=F,r.ltr=U,r.gtr=z,r.outside=q}).call(r,t(5))},7:function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}function s(e,r){if(!e)return!1;var t=l.get(e,"tabs",[]),n="normal"===e.type&&t.length>0,o="popup"===e.type&&t.length>0&&"Tabli"===t[0].title;return n||!r&&o}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,r){var t=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),d=t(1),l=n(d),f=t(3),h=n(f),p=t(6),v=n(p),w=function(e){function r(){return o(this,r),i(this,Object.getPrototypeOf(r).apply(this,arguments))}return a(r,e),c(r,[{key:"registerTabWindow",value:function(e){var r=e.open?this.windowIdMap.set(e.openWindowId,e):this.windowIdMap,t=e.saved?this.bookmarkIdMap.set(e.savedFolderId,e):this.bookmarkIdMap;return this.set("windowIdMap",r).set("bookmarkIdMap",t)}},{key:"registerTabWindows",value:function(e){return l.reduce(e,function(e,r){return e.registerTabWindow(r)},this)}},{key:"handleTabWindowClosed",value:function(e){var r=this.windowIdMap["delete"](e.openWindowId),t=v.removeOpenWindowState(e);return this.set("windowIdMap",r).registerTabWindow(t)}},{key:"handleTabClosed",value:function(e,r){var t=v.closeTab(e,r);return this.registerTabWindow(t)}},{key:"handleTabSaved",value:function(e,r,t){var n=v.saveTab(e,r,t);return this.registerTabWindow(n)}},{key:"handleTabUnsaved",value:function(e,r){var t=v.unsaveTab(e,r);return this.registerTabWindow(t)}},{key:"handleTabActivated",value:function(e,r){var t=v.setActiveTab(e,r);return this.registerTabWindow(t)}},{key:"handleTabCreated",value:function(e,r){var t=v.createTab(e,r);return this.registerTabWindow(t)}},{key:"handleTabUpdated",value:function(e,r,t){var n=v.updateTabItem(e,r,t);return this.registerTabWindow(n)}},{key:"attachChromeWindow",value:function(e,r){var t=this.windowIdMap.get(r.id),n=t?this.handleTabWindowClosed(t):this,o=v.updateWindow(e,r);return n.registerTabWindow(o)}},{key:"syncChromeWindow",value:function(e){var r=this.windowIdMap.get(e.id),t=r?v.updateWindow(r,e):v.makeChromeTabWindow(e),n=this.registerTabWindow(t),o=e.focused&&s(e,!0),i=o?n.set("currentWindowId",e.id):n;return o&&console.log("syncChromeWindow: updated current window to: ",e.id),i}},{key:"syncWindowList",value:function(e){var r=l.filter(e,function(e){return s(e,!1)}),t=this.getOpen(),n=l.map(r,"id"),o=new Set(n),i=t.filter(function(e){return!o.has(e.openWindowId)}),a=i.reduce(function(e,r){return e.handleTabWindowClosed(r)},this),u=l.reduce(r,function(e,r){return e.syncChromeWindow(r)},a);return u}},{key:"setCurrentWindowId",value:function(e){var r=this.windowIdMap.has(e)?this.set("currentWindowId",e):this;return r}},{key:"setCurrentWindow",value:function(e){var r=s(e,!0)?this.setCurrentWindowId(e.id):this;return r}},{key:"getCurrentWindow",value:function(){return this.getTabWindowByChromeId(this.currentWindowId)}},{key:"getActiveTabId",value:function(){var e=this.getCurrentWindow(),r=e?e.getActiveTabId():void 0;return r}},{key:"removeBookmarkIdMapEntry",value:function(e){return this.set("bookmarkIdMap",this.bookmarkIdMap["delete"](e.savedFolderId))}},{key:"unmanageWindow",value:function(e){var r=this.removeBookmarkIdMapEntry(e),t=v.removeSavedWindowState(e);return r.registerTabWindow(t)}},{key:"attachBookmarkFolder",value:function(e,r){var t=v.makeFolderTabWindow(e),n=v.updateWindow(t,r);return this.registerTabWindow(n)}},{key:"getOpen",value:function(){var e=this.windowIdMap.toIndexedSeq();return e}},{key:"getAll",value:function(){var e=this.getOpen().toArray(),r=this.bookmarkIdMap.toIndexedSeq().filter(function(e){return!e.open}).toArray();return e.concat(r)}},{key:"getTabWindowsByType",value:function(e){var r=this.getOpen();return r.filter(function(r){return r.windowType===e})}},{key:"getTabWindowByChromeId",value:function(e){return this.windowIdMap.get(e)}},{key:"getTabWindowByChromeTabId",value:function(e){var r=this.windowIdMap.find(function(r){return r.findChromeTabId(e)});return r}},{key:"countOpenWindows",value:function(){return this.getTabWindowsByType("normal").count()}},{key:"countSavedWindows",value:function(){return this.bookmarkIdMap.count()}},{key:"countOpenTabs",value:function(){return this.getTabWindowsByType("normal").reduce(function(e,r){return e+r.openTabCount},0)}},{key:"getUrlBookmarkIdMap",value:function(){var e=this.bookmarkIdMap.entrySeq(),r=function(e){return e.tabItems.map(function(e){return e.url})},t=e.map(function(e){var t=u(e,2),n=t[0],o=t[1];return r(o).map(function(e){return[e,n]})}).flatten(!0),n=t.groupBy(function(e){var r=u(e,2),t=r[0];r[1];return t}).map(function(e){return h.Set(e.map(function(e){var r=u(e,2),t=(r[0],r[1]);return t}))});return h.Map(n)}},{key:"getPopoutTabWindow",value:function(){var e=this.getTabWindowsByType("popup");return e.count()>0?e.get(0):null}},{key:"markInitialized",value:function(){return this.set("initializing",!1)}}]),r}(h.Record({windowIdMap:h.Map(),bookmarkIdMap:h.Map(),folderId:-1,archiveFolderId:-1,currentWindowId:-1,initializing:!0,showRelNotes:!0,expandAll:!0}));r["default"]=w},14:function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),u=t(15),c=n(u),d=function(e){function r(e){o(this,r);var t=i(this,Object.getPrototypeOf(r).call(this,e));return t.viewListeners=[],t}return a(r,e),s(r,[{key:"addViewListener",value:function(e){var r=this.viewListeners.indexOf(e);return-1===r&&(r=this.viewListeners.length,this.viewListeners.push(e),this.on("change",e)),r}},{key:"removeViewListener",value:function(e){var r=this.viewListeners[e];r?this.removeListener("change",r):console.warn("removeViewListener: No listener found for id ",e),delete this.viewListeners[e]}}]),r}(c.Ref);r["default"]=d}});